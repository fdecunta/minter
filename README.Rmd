---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

<img src="man/figures/minter_logo.png" style="float: right; margin-left: 20px;" width="160"/>

# minter 

<!-- badges: start -->
<!-- badges: end -->


Helper functions for conducting meta-analyses of interactions in 2Ã—2 factorial experiments.


## Installation

You can install the development version of minter from [GitHub](https://github.com/) with:

``` r
devtools::install_github("fdecunta/minter", force = TRUE)
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
library(minter)

data(fake_data)

# Compute the effect sizes
fake_data <- inter_effsize(
  effsize = "lnrr",
  colnames = c("Herb", "Fert"),
  data = fake_data,
  Ctrl_mean = C_mean,
  Ctrl_sd = C_sd,
  Ctrl_n = C_n,
  A_mean = Herb_mean,
  A_sd = Herb_sd,
  A_n = Herb_n,
  B_mean = Fert_mean,
  B_sd = Fert_sd,
  B_n = Fert_n,
  AB_mean = HxF_mean,
  AB_sd = HxF_sd,
  AB_n = HxF_n
)

str(fake_data)
```


```{r}
vi_cols <- c(
  "Herb_simple_lnRR_var",
  "Fert_simple_lnRR_var",
  "Herb_overall_lnRR_var",
  "Fert_overall_lnRR_var",
  "Herb_x_Fert_lnRR_var"
)

VCVs <- inter_vcv(cols = vi_cols,
                  cluster = "Study",
                  obs = "EffectSize_ID",
                  rho = 0.5,
                  data = fake_data)

str(VCVs)
```

```{r}
library(metafor)

res <- rma.mv(
  yi = Herb_x_Fert_lnRR,
  V  = VCVs$Herb_x_Fert_lnRR_var,
  random = ~ 1 | Study,
  test = "t",
  data = fake_data)

res
```


